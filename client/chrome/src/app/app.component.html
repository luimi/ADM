<nav class="navbar navbar-light bg-white">
  <div class="adm">
    <adm></adm>
  </div>
</nav>
<!--

  __  __       _       
 |  \/  |     (_)      
 | \  / | __ _ _ _ __  
 | |\/| |/ _` | | '_ \ 
 | |  | | (_| | | | | |
 |_|  |_|\__,_|_|_| |_|
                       
                       

-->
<div [hidden]="device">
  <div class="card m-3">
    <div class="card-body">
      <div class="mb-3">
        <label for="ip" class="form-label">Ip Address</label>
        <input type="text" class="form-control" #ip placeholder="192.168.x.x:8887">
      </div>
      <div class="d-grid">
        <button class="btn btn-primary mb-3 d-block" (click)="connect(ip.value)">
          <div class="spinner-border text-light spinner-border-sm" role="status" [hidden]="!isVerifying">
            <span class="visually-hidden">Loading...</span>
          </div>
          <span [hidden]="isVerifying">Connect</span>
        </button>
      </div>
    </div>
  </div>
  <div class="card m-3">
    <div class="card-body">
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-start"
          *ngFor="let device of deviceCtrl.devices" (click)="selectDevice(device)">
          <div class="ms-2 me-auto">
            <div class="fw-bold">{{device.manufacter}} - {{device.model}}</div>
            {{device.ip}}{{device.port?':':''}}{{device.port?device.port:''}}
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<!--

  _____             _          
 |  __ \           (_)         
 | |  | | _____   ___  ___ ___ 
 | |  | |/ _ \ \ / / |/ __/ _ \
 | |__| |  __/\ V /| | (_|  __/
 |_____/ \___| \_/ |_|\___\___|
                               
                               

-->
<div [hidden]="!device">
  <nav class="navbar navbar-light bg-white">
    <div class="container-fluid">

      <a class="navbar-brand">
        <img src="/assets/icons/arrow-left.svg" width="30" height="24" (click)="back()">
        {{device?.manufacter}} - {{device?.model}}
        <span class="badge bg-secondary">{{this.websocketCtrl.status}}</span>
      </a>
      <div>
        <img src="/assets/icons/rotate.svg" width="30" height="24">
        <img src="/assets/icons/trash-can.svg" width="30" height="24">
      </div>
    </div>
  </nav>
  <!--

  _____        __                           _   _             
 |_   _|      / _|                         | | (_)            
   | |  _ __ | |_ ___  _ __ _ __ ___   __ _| |_ _  ___  _ __  
   | | | '_ \|  _/ _ \| '__| '_ ` _ \ / _` | __| |/ _ \| '_ \ 
  _| |_| | | | || (_) | |  | | | | | | (_| | |_| | (_) | | | |
 |_____|_| |_|_| \___/|_|  |_| |_| |_|\__,_|\__|_|\___/|_| |_|
                                                              
                                                              

-->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Information</h5>
      <table class="table" style="width: 100%;">
        <thead class="table-primary">
          <tr>
            <td>Title</td>
            <td>Description</td>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of information">
            <td>{{item.title}}</td>
            <td>{{item.description}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!--

   ____                       _   _              _____           _                 
  / __ \                     | | (_)            / ____|         | |                
 | |  | |_ __   ___ _ __ __ _| |_ ___   _____  | (___  _   _ ___| |_ ___ _ __ ___  
 | |  | | '_ \ / _ \ '__/ _` | __| \ \ / / _ \  \___ \| | | / __| __/ _ \ '_ ` _ \ 
 | |__| | |_) |  __/ | | (_| | |_| |\ V /  __/  ____) | |_| \__ \ ||  __/ | | | | |
  \____/| .__/ \___|_|  \__,_|\__|_| \_/ \___| |_____/ \__, |___/\__\___|_| |_| |_|
        | |                                             __/ |                      
        |_|                                            |___/                       

-->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Operative System</h5>
      <button type="button" class="btn btn-primary" (click)="send({type:'shutdown'})"
        [disabled]="disableEvent()">Shutdown</button>
      <button type="button" class="btn btn-primary" (click)="send({type:'reboot'})"
        [disabled]="disableEvent()">Reboot</button>
    </div>
  </div>
  <!--

  _____  _           _             
 |  __ \(_)         | |            
 | |  | |_ ___ _ __ | | __ _ _   _ 
 | |  | | / __| '_ \| |/ _` | | | |
 | |__| | \__ \ |_) | | (_| | |_| |
 |_____/|_|___/ .__/|_|\__,_|\__, |
              | |             __/ |
              |_|            |___/ 

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Display DPI</h5>
      <select class="form-select form-select-sm" aria-label="dpi">
        <option *ngFor="let dpi of DPIList" [value]="dpi">{{dpi}}dpi</option>
      </select>
      <button type="button" class="btn btn-primary" [disabled]="disableEvent()"
        (click)="send({type:'setdpi', value1:device.displayDPI})">Apply</button>
      <button type="button" class="btn btn-primary" [disabled]="disableEvent()"
        (click)="send({type:'resetdpi'})">Reset</button>
    </div>
  </div>
  <!--

 __          ___  __ _            _____  ____  
 \ \        / (_)/ _(_)     /\   |  __ \|  _ \ 
  \ \  /\  / / _| |_ _     /  \  | |  | | |_) |
   \ \/  \/ / | |  _| |   / /\ \ | |  | |  _ < 
    \  /\  /  | | | | |  / ____ \| |__| | |_) |
     \/  \/   |_|_| |_| /_/    \_\_____/|____/ 
                                               
                                               

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Wifi ADB</h5>
      <div class="btn-group" role="group" aria-label="Basic radio toggle button group" style="width: 100%;">
        <input type="radio" class="btn-check" name="btnradio" id="rdoInactive" autocomplete="off"
          [checked]="device?.isADBWifi" [disabled]="disableEvent()">
        <label class="btn btn-outline-primary" for="rdoInactive">Inactive</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnActive" autocomplete="off"
          [checked]="device?.isADBWifi" [disabled]="disableEvent()">
        <label class="btn btn-outline-primary" for="btnActive">Active</label>
      </div>
    </div>
  </div>
  <!--

                           
     /\                    
    /  \   _ __  _ __  ___ 
   / /\ \ | '_ \| '_ \/ __|
  / ____ \| |_) | |_) \__ \
 /_/    \_\ .__/| .__/|___/
          | |   | |        
          |_|   |_|        

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Apps</h5>
      <div class="list-group" style="max-height: 300px; overflow-y: scroll;">
        <a class="list-group-item list-group-item-action" *ngFor="let app of device?.installedApps">
          <h5 class="mb-1">{{app.name}}</h5>
          <p class="text-muted mb-1">{{app.packageName}}</p>
          <small class="text-muted">Version {{app.version}}</small>
          <div class="btn-group">
            <a class="btn btn-primary" (click)="send({type:'startapp', value1: app.packageName})">Launch</a>
            <a class="btn btn-secondary" (click)="send({type:'clearapp', value1: app.packageName})">Clear</a>
            <a class="btn btn-danger" (click)="send({type:'removeapp', value1: app.packageName})">Remove</a>
          </div>
        </a>

      </div>
    </div>
  </div>
  <!--

   _____                            _______ _                 ____        _   
  / ____|                          |__   __(_)               / __ \      | |  
 | (___   ___ _ __ ___  ___ _ __      | |   _ _ __ ___   ___| |  | |_   _| |_ 
  \___ \ / __| '__/ _ \/ _ \ '_ \     | |  | | '_ ` _ \ / _ \ |  | | | | | __|
  ____) | (__| | |  __/  __/ | | |    | |  | | | | | | |  __/ |__| | |_| | |_ 
 |_____/ \___|_|  \___|\___|_| |_|    |_|  |_|_| |_| |_|\___|\____/ \__,_|\__|
                                                                              
                                                                              

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Screen TimeOut</h5>
      <!--[(ngModel)]="device?.screenTimeOut"-->
      <select class="form-select" aria-label="Default select example">
        <option *ngFor="let time of TimeSleepList" [value]="time.value">{{time.name}}
        </option>
      </select>
      <button class="btn btn-primary" [disabled]="disableEvent()"
        (click)="send({type:'setscreentimeout', value1:device.screenTimeOut})">Apply</button>
    </div>
  </div>
  <!--

 __          ___  __ _   __  __                                   
 \ \        / (_)/ _(_) |  \/  |                                  
  \ \  /\  / / _| |_ _  | \  / | __ _ _ __   __ _  __ _  ___ _ __ 
   \ \/  \/ / | |  _| | | |\/| |/ _` | '_ \ / _` |/ _` |/ _ \ '__|
    \  /\  /  | | | | | | |  | | (_| | | | | (_| | (_| |  __/ |   
     \/  \/   |_|_| |_| |_|  |_|\__,_|_| |_|\__,_|\__, |\___|_|   
                                                   __/ |          
                                                  |___/           

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Wifi Manager</h5>
      <input class="form-control" type="text" placeholder="SSID" #WifiSSID>
      <input class="form-control" type="text" placeholder="Password" #WifiPassword>
      <button class="btn btn-primary" [disabled]="disableEvent()"
        (click)="send({type:'setwifi', value1:WifiSSID.value, value2:WifiPassword.value})">Add Network</button>
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let network of device?.storedWifis">
          {{network.name.replaceAll('"','')}}
          <span class="badge"><img src="./assets/icons/trash-can.svg" width="15px" (click)="send({type:'removewifi', value1: network.id})"></span>
        </li>
      </ul>
    </div>
  </div>
    <!--

                _   _                _          _   _               _  __          
     /\        | | | |              (_)        | | (_)             | |/ /          
    /  \  _   _| |_| |__   ___  _ __ _ ______ _| |_ _  ___  _ __   | ' / ___ _   _ 
   / /\ \| | | | __| '_ \ / _ \| '__| |_  / _` | __| |/ _ \| '_ \  |  < / _ \ | | |
  / ____ \ |_| | |_| | | | (_) | |  | |/ / (_| | |_| | (_) | | | | | . \  __/ |_| |
 /_/    \_\__,_|\__|_| |_|\___/|_|  |_/___\__,_|\__|_|\___/|_| |_| |_|\_\___|\__, |
                                                                              __/ |
                                                                             |___/ 

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Authorization Key</h5>
      <div class="mb-3">
        <label for="adbkey" class="form-label">adbkey.pub</label>
        <textarea class="form-control" id="adbkey" #ADBKey rows="3"></textarea>
      </div>
      <button class="btn btn-primary" [disabled]="disableEvent()"
              (click)="send({type:'setadbkey', value1:ADBKey.value})">Set Key</button>
    </div>
  </div>
    <!--

  ____  _            _              _   _     
 |  _ \| |          | |            | | | |    
 | |_) | |_   _  ___| |_ ___   ___ | |_| |__  
 |  _ <| | | | |/ _ \ __/ _ \ / _ \| __| '_ \ 
 | |_) | | |_| |  __/ || (_) | (_) | |_| | | |
 |____/|_|\__,_|\___|\__\___/ \___/ \__|_| |_|
                                              
                                              

    -->
  <div class="card m-3">
    <div class="card-body">
      <h5 class="card-title">Bluetooth</h5>
      <div class="btn-group" role="group" aria-label="Basic radio toggle button group" style="width: 100%;">
        <input type="radio" class="btn-check" name="rdoBluetooth" id="btInactive" autocomplete="off"
          [checked]="!device?.isBluetooth" [disabled]="disableEvent()">
        <label class="btn btn-outline-primary" for="btInactive" (click)="send({type:'stopbluetooth'})">Inactive</label>

        <input type="radio" class="btn-check" name="rdoBluetooth" id="btActive" autocomplete="off"
          [checked]="device?.isBluetooth" [disabled]="disableEvent()">
        <label class="btn btn-outline-primary" for="btActive" (click)="send({type:'startbluetooth'})">Active</label>
      </div>
    </div>
  </div>
</div>